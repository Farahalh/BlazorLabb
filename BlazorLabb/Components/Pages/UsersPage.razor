@page "/usersPage"
@using System.Text.Json
@using BlazorLabb.Services
@inject BlazorLabb.Services.UserDataService UserService

@* Summary:
   The UsersPage component displays a list of registered users in a table format, loading data
   from a JSON file managed by the UserService. When the page initializes, it checks if `_users`
   is null and displays a loading message until data is available. The table lists each user's
   name, email, and password, with placeholder columns for additional information that may be
   uncommented in the future (e.g., company name and catchphrase).
   *@

<PageTitle>Users Page</PageTitle>

<h1>Registered Users</h1>

<button @onclick="FetchDataForFiveUser">Display five users</button>
<button @onclick="FetchDataForAllUsers">Display all users</button>

@if (_registeredUsers == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Password</th>
                <th>Street</th>
                <th>City</th>
                <th>Zip Code</th>
                <th>Company name</th>
                <th>Catch phrase</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in _registeredUsers)
            {
                <tr>
                    <td>@user.Name</td>
                    <td>@user.Email</td>
                    <td>@user.Password</td>
                    <td>@user.Address.StreetName</td>
                    <td>@user.Address.City</td>
                    <td>@user.Address.Zipcode</td>
                    <td>@user.Company.CompanyName</td>
                    <td>@user.Company.Catchphrase</td>
                </tr>
            }
        </tbody>
    </table>
}
